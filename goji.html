<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orbital8 Goji Architecture</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            securityLevel: 'strict'
        });
    </script>
    <style>
        :root {
            color-scheme: dark;
            font-family: 'Segoe UI', Roboto, sans-serif;
            background: radial-gradient(circle at top, #0f172a, #020617 60%);
            color: #f8fafc;
        }

        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 16px;
            gap: 24px;
        }

        h1 {
            margin: 0;
            font-size: clamp(1.8rem, 2.5vw, 2.6rem);
            font-weight: 600;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }

        p {
            margin: 0;
            max-width: 720px;
            text-align: center;
            line-height: 1.6;
            color: rgba(248, 250, 252, 0.8);
        }

        .diagram {
            width: min(960px, 100%);
            background: rgba(15, 23, 42, 0.65);
            border: 1px solid rgba(59, 130, 246, 0.35);
            border-radius: 20px;
            padding: 32px;
            box-shadow: 0 20px 60px rgba(15, 23, 42, 0.65);
            backdrop-filter: blur(12px);
        }

        .capabilities {
            width: min(960px, 100%);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
        }

        .capability-card {
            background: rgba(15, 23, 42, 0.55);
            border: 1px solid rgba(94, 234, 212, 0.35);
            border-radius: 18px;
            padding: 24px;
            box-shadow: 0 12px 36px rgba(15, 23, 42, 0.4);
            display: flex;
            flex-direction: column;
            gap: 12px;
            transition: transform 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease;
        }

        .capability-card:hover {
            transform: translateY(-6px);
            border-color: rgba(94, 234, 212, 0.6);
            box-shadow: 0 18px 48px rgba(94, 234, 212, 0.25);
        }

        .capability-card h2 {
            margin: 0;
            font-size: 1.2rem;
            letter-spacing: 0.04em;
            text-transform: uppercase;
            color: #5eead4;
        }

        .capability-card p {
            text-align: left;
            color: rgba(148, 163, 184, 0.9);
            font-size: 0.95rem;
        }

        .capability-card ul {
            margin: 0;
            padding-left: 20px;
            display: grid;
            gap: 6px;
            color: rgba(226, 232, 240, 0.9);
        }

        .capability-card li {
            list-style: "âœ¦ ";
        }

        @media (max-width: 640px) {
            body {
                padding: 32px 12px;
            }

            .diagram {
                padding: 24px;
            }
        }
    </style>
</head>
<body>
    <h1>Orbital8 Goji Sync Overview</h1>
    <p>
        The diagram maps how the Orbital8 Goji client orchestrates local state, background synchronization,
        and Microsoft 365 endpoints to keep the document workspace consistent across devices.
    </p>
    <div class="diagram">
        <pre class="mermaid">
graph TD
    subgraph Client Experience
        UI[UI Shell &amp; Interaction Layer]
        State[State Manager &amp; Reactive Store]
        Diagnostics[Diagnostics &amp; Telemetry Panel]
    end

    subgraph Local Services
        Queue[Sync Queue Processor]
        Cache[IndexedDB Cache (Orbital8-Goji-V1)]
        Worker[Web Worker Tasks]
    end

    subgraph Cloud Sync
        GraphAPI[Microsoft Graph API]
        SharePoint[SharePoint Library]
        OneDrive[OneDrive Workspace]
        Alerts[Notifications &amp; Adaptive Cards]
    end

    UI --> State
    State -->|Actions &amp; Dispatches| Queue
    State --> Diagnostics
    Queue -->|Batch Writes| Cache
    Cache --> Worker
    Worker -->|Delta Sync| GraphAPI
    Worker -->|Conflict Resolution| Queue
    GraphAPI --> SharePoint
    GraphAPI --> OneDrive
    GraphAPI --> Alerts
    Queue -->|Status Updates| UI
    Cache -->|Offline Reads| UI
    Diagnostics -->|Health Signals| UI
        </pre>
    </div>
    <section class="capabilities" aria-label="Goji capability map">
        <article class="capability-card">
            <h2>Client Experience</h2>
            <p>Frontend surfaces that users interact with while managing Orbital8 workspaces.</p>
            <ul>
                <li><strong>UI Shell</strong> orchestrates navigation and command surface.</li>
                <li><strong>State Manager</strong> normalizes actions, dispatches, and data hydration.</li>
                <li><strong>Diagnostics Panel</strong> provides health, logging, and metrics feedback.</li>
            </ul>
        </article>
        <article class="capability-card">
            <h2>Local Services</h2>
            <p>Background services that maintain offline resilience and efficient batch processing.</p>
            <ul>
                <li><strong>Sync Queue</strong> buffers writes, retries, and prioritizes mutation flows.</li>
                <li><strong>IndexedDB Cache</strong> stores offline-ready collections and snapshots.</li>
                <li><strong>Web Workers</strong> execute differential sync tasks without blocking UI threads.</li>
            </ul>
        </article>
        <article class="capability-card">
            <h2>Cloud Integration</h2>
            <p>External services that converge document, file, and notification pipelines.</p>
            <ul>
                <li><strong>Microsoft Graph</strong> brokers delta sync and permission enforcement.</li>
                <li><strong>SharePoint</strong> anchors shared document libraries and metadata.</li>
                <li><strong>OneDrive</strong> enables personal workspace replication.</li>
                <li><strong>Adaptive Alerts</strong> distributes notifications and cards.</li>
            </ul>
        </article>
    </section>
</body>
</html>
